{% extends "base_generic.html" %}

{% block content %}
<div class="container mt-4" style="max-width: 900px;">
  <h1>{{ product.name }}</h1>

  <p><b>Категория:</b> {{ product.category }}</p>
  <p><b>Цена:</b> {{ product.price }}</p>
  <p><b>Остаток:</b> {{ product.stock }}</p>

  <p>
    <b>Статус:</b>
    {% if product.is_published %}Опубликован{% else %}Не опубликован{% endif %}
  </p>

  <p><b>Владелец:</b> {{ product.owner }}</p>

  {% if product.image %}
    <img src="{{ product.image.url }}" alt="{{ product.name }}" style="max-width: 300px;">
  {% else %}
    <em>Изображение не загружено</em>
  {% endif %}

  <hr>
  <p>{{ product.description }}</p>

  <hr>

  {% if user.is_authenticated %}
    {% if user == product.owner %}
      <a href="{% url 'catalog:product_update' product.pk %}">Редактировать</a>
    {% endif %}

    {% if user == product.owner or perms.catalog.delete_product %}
      | <a href="{% url 'catalog:product_delete' product.pk %}">Удалить</a>
    {% endif %}
  {% endif %}

  <p><a href="{% url 'catalog:product_list' %}">Назад к списку</a></p>
</div>
{% endblock %}